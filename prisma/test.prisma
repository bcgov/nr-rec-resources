generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["metrics", "multiSchema", "typedSql", "views"]
  binaryTargets   = ["native", "debian-openssl-3.0.x", "linux-arm64-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["admin", "rst"]
}

model admin_rec_detail {
  id   Int    @id
  desc String @db.VarChar(100)

  @@schema("admin")
}

model flyway_schema_history {
  installed_rank Int      @id(map: "flyway_schema_history_pk")
  version        String?  @db.VarChar(50)
  description    String   @db.VarChar(200)
  type           String   @db.VarChar(20)
  script         String   @db.VarChar(1000)
  checksum       Int?
  installed_by   String   @db.VarChar(100)
  installed_on   DateTime @default(now()) @db.Timestamp(6)
  execution_time Int
  success        Boolean

  @@index([success], map: "flyway_schema_history_s_idx")
  @@schema("rst")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model recreation_access {
  id                         Int                         @id @default(autoincrement())
  rec_resource_id            String                      @db.VarChar(20)
  access_code                String                      @db.VarChar(3)
  sub_access_code            String?                     @db.VarChar(3)
  updated_at                 DateTime?                   @default(now()) @db.Timestamp(6)
  updated_by                 String?
  created_at                 DateTime?                   @default(now()) @db.Timestamp(6)
  created_by                 String?
  sys_period                 Unsupported("tstzrange")    @default(dbgenerated("tstzrange(CURRENT_TIMESTAMP, NULL::timestamp with time zone)"))
  recreation_access_code     recreation_access_code      @relation(fields: [access_code], references: [access_code], onDelete: NoAction, onUpdate: NoAction)
  recreation_resource        recreation_resource         @relation(fields: [rec_resource_id], references: [rec_resource_id], onDelete: NoAction, onUpdate: NoAction)
  recreation_sub_access_code recreation_sub_access_code? @relation(fields: [sub_access_code], references: [sub_access_code], onDelete: NoAction, onUpdate: NoAction)

  @@unique([rec_resource_id, access_code, sub_access_code])
  @@index([rec_resource_id], map: "idx_recreation_access_rec_resource_id")
  @@schema("rst")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model recreation_access_code {
  access_code       String                   @id @db.VarChar(3)
  description       String?                  @db.VarChar(120)
  sub_description   String?                  @db.VarChar(120)
  updated_at        DateTime?                @default(now()) @db.Timestamp(6)
  sys_period        Unsupported("tstzrange") @default(dbgenerated("tstzrange(CURRENT_TIMESTAMP, NULL::timestamp with time zone)"))
  recreation_access recreation_access[]

  @@schema("rst")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model recreation_access_code_history {
  access_code     String                   @db.VarChar(3)
  description     String?                  @db.VarChar(120)
  sub_description String?                  @db.VarChar(120)
  updated_at      DateTime?                @db.Timestamp(6)
  sys_period      Unsupported("tstzrange")

  @@ignore
  @@schema("rst")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model recreation_access_history {
  id              Int
  rec_resource_id String                   @db.VarChar(20)
  access_code     String                   @db.VarChar(3)
  sub_access_code String?                  @db.VarChar(3)
  updated_at      DateTime?                @db.Timestamp(6)
  updated_by      String?
  created_at      DateTime?                @db.Timestamp(6)
  created_by      String?
  sys_period      Unsupported("tstzrange")

  @@ignore
  @@schema("rst")
}
